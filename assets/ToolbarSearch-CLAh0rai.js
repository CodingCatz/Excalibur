import{r,j as e,B as x,S as l,a as m,I as d,X as f}from"./index-BO31ZqPg.js";function p({value:a,onChange:n,placeholder:u}){const[t,o]=r.useState(!1),c=r.useRef(null);r.useEffect(()=>{t&&requestAnimationFrame(()=>c.current?.focus())},[t]);const i=()=>{n(""),o(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(x,{variant:a||t?"secondary":"ghost",size:"icon",className:"size-9 shrink-0",onClick:()=>o(s=>!s),children:e.jsx(l,{className:"size-4"})}),t&&e.jsx(m,{children:e.jsxs("div",{className:"flex shrink-0 items-center gap-1.5 border-t bg-background px-2 py-1.5",children:[e.jsx(l,{className:"size-4 shrink-0 text-muted-foreground"}),e.jsxs("div",{className:"relative flex-1 min-w-0",children:[e.jsx(d,{ref:c,className:"h-7 w-full pr-7 text-xs",placeholder:u,value:a,onChange:s=>n(s.target.value),onKeyDown:s=>{s.key==="Escape"&&i()}}),e.jsx("button",{type:"button",className:"absolute right-1.5 top-1/2 -translate-y-1/2 rounded-sm p-0.5 text-muted-foreground hover:text-foreground",onClick:i,children:e.jsx(f,{className:"size-3.5"})})]})]})})]})}export{p as T};
