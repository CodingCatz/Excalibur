import{c as z,r as i,bd as H,j as c,be as G,bf as q,bg as A,bh as O,bi as h,bj as w,bk as E,bl as K,bm as Q,bn as _,bo as U,bp as V,bq as W,br as Z,bs as B,bt as J,bu as X,bv as Y,aN as j,bw as ee}from"./index-BO31ZqPg.js";const oe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xe=z("circle-question-mark",oe);var C="Popover",[N]=W(C,[_]),g=_(),[te,d]=N(C),y=e=>{const{__scopePopover:n,children:r,open:s,defaultOpen:t,onOpenChange:o,modal:a=!1}=e,p=g(n),l=i.useRef(null),[u,P]=i.useState(!1),[m,f]=H({prop:s,defaultProp:t??!1,onChange:o,caller:C});return c.jsx(G,{...p,children:c.jsx(te,{scope:n,contentId:q(),triggerRef:l,open:m,onOpenChange:f,onOpenToggle:i.useCallback(()=>f(b=>!b),[f]),hasCustomAnchor:u,onCustomAnchorAdd:i.useCallback(()=>P(!0),[]),onCustomAnchorRemove:i.useCallback(()=>P(!1),[]),modal:a,children:r})})};y.displayName=C;var M="PopoverAnchor",re=i.forwardRef((e,n)=>{const{__scopePopover:r,...s}=e,t=d(M,r),o=g(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:p}=t;return i.useEffect(()=>(a(),()=>p()),[a,p]),c.jsx(w,{...o,...s,ref:n})});re.displayName=M;var S="PopoverTrigger",k=i.forwardRef((e,n)=>{const{__scopePopover:r,...s}=e,t=d(S,r),o=g(r),a=A(n,t.triggerRef),p=c.jsx(O.button,{type:"button","aria-haspopup":"dialog","aria-expanded":t.open,"aria-controls":t.contentId,"data-state":$(t.open),...s,ref:a,onClick:h(e.onClick,t.onOpenToggle)});return t.hasCustomAnchor?p:c.jsx(w,{asChild:!0,...o,children:p})});k.displayName=S;var R="PopoverPortal",[ne,se]=N(R,{forceMount:void 0}),F=e=>{const{__scopePopover:n,forceMount:r,children:s,container:t}=e,o=d(R,n);return c.jsx(ne,{scope:n,forceMount:r,children:c.jsx(E,{present:r||o.open,children:c.jsx(K,{asChild:!0,container:t,children:s})})})};F.displayName=R;var v="PopoverContent",D=i.forwardRef((e,n)=>{const r=se(v,e.__scopePopover),{forceMount:s=r.forceMount,...t}=e,o=d(v,e.__scopePopover);return c.jsx(E,{present:s||o.open,children:o.modal?c.jsx(ce,{...t,ref:n}):c.jsx(ie,{...t,ref:n})})});D.displayName=v;var ae=Z("PopoverContent.RemoveScroll"),ce=i.forwardRef((e,n)=>{const r=d(v,e.__scopePopover),s=i.useRef(null),t=A(n,s),o=i.useRef(!1);return i.useEffect(()=>{const a=s.current;if(a)return U(a)},[]),c.jsx(V,{as:ae,allowPinchZoom:!0,children:c.jsx(I,{...e,ref:t,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:h(e.onCloseAutoFocus,a=>{a.preventDefault(),o.current||r.triggerRef.current?.focus()}),onPointerDownOutside:h(e.onPointerDownOutside,a=>{const p=a.detail.originalEvent,l=p.button===0&&p.ctrlKey===!0,u=p.button===2||l;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:h(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),ie=i.forwardRef((e,n)=>{const r=d(v,e.__scopePopover),s=i.useRef(!1),t=i.useRef(!1);return c.jsx(I,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(s.current||r.triggerRef.current?.focus(),o.preventDefault()),s.current=!1,t.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(t.current=!0));const a=o.target;r.triggerRef.current?.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&t.current&&o.preventDefault()}})}),I=i.forwardRef((e,n)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:t,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:p,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:P,...m}=e,f=d(v,r),b=g(r);return B(),c.jsx(J,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:t,onUnmountAutoFocus:o,children:c.jsx(X,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:P,onEscapeKeyDown:p,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:c.jsx(Y,{"data-state":$(f.open),role:"dialog",id:f.contentId,...b,...m,ref:n,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),T="PopoverClose",pe=i.forwardRef((e,n)=>{const{__scopePopover:r,...s}=e,t=d(T,r);return c.jsx(O.button,{type:"button",...s,ref:n,onClick:h(e.onClick,()=>t.onOpenChange(!1))})});pe.displayName=T;var le="PopoverArrow",L=i.forwardRef((e,n)=>{const{__scopePopover:r,...s}=e,t=g(r);return c.jsx(Q,{...t,...s,ref:n})});L.displayName=le;function $(e){return e?"open":"closed"}var ue=y,de=k,fe=F,ve=D,he=L;function Ce({...e}){return c.jsx(ue,{"data-slot":"popover",...e})}function be({...e}){return c.jsx(de,{"data-slot":"popover-trigger",...e})}function Re({className:e,sideOffset:n=6,align:r="end",collisionPadding:s=16,...t}){return c.jsx(fe,{children:c.jsx(ve,{"data-slot":"popover-content",sideOffset:n,align:r,collisionPadding:s,className:j("bg-popover text-popover-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-popover-content-transform-origin) rounded-lg border p-3 shadow-md",e),...t})})}function Ae({className:e,...n}){return c.jsx(he,{"data-slot":"popover-arrow",className:j("fill-popover z-50 size-2.5",e),...n})}let x=null;function ge(){return x||(x=fetch("/Excalibur/README.md").then(e=>{if(!e.ok)throw new Error(`Failed to fetch README.md: ${e.status}`);return e.text()}).catch(e=>{throw x=null,e})),x}function Pe(e,n,r){const t=e.split(/^## /m).find(a=>a.split(`
`)[0].trim()===n);if(!t)return"";let o=t;if(o=o.substring(o.indexOf(`
`)+1).trim(),r){const p=o.split(/^### /m).find(l=>l.split(`
`)[0].trim()===r);if(!p)return"";o=p.substring(p.indexOf(`
`)+1).trim()}else o=o.replace(/\n---\s*$/,"").trim();return o}function Oe(e,n){const[r,s]=i.useState(""),[t,o]=i.useState(!0);return i.useEffect(()=>{let a=!1;return ge().then(p=>{if(a)return;const l=Pe(p,e,n),u=ee.parse(l);s(u),o(!1)}).catch(()=>{a||o(!1)}),()=>{a=!0}},[e,n]),{html:r,loading:t}}export{xe as C,Ce as P,be as a,Re as b,Ae as c,Oe as u};
