import{aB as c,r as m,j as a}from"./index-BO31ZqPg.js";import{M as s}from"./MetaField-Bml9FA2m.js";import{S as o}from"./SectionHeader-CACnNDne.js";import{S as d}from"./StringArrayEditor-BCoMBoiZ.js";import{O as b}from"./ObjectArrayEditor-3lw9ARiJ.js";const x=[{value:"cutscene",label:"Cutscene"},{value:"intro",label:"Intro"},{value:"ending",label:"Ending"},{value:"tutorial",label:"Tutorial"},{value:"trailer",label:"Trailer"},{value:"other",label:"Other"}],h=[{value:"mp4",label:"MP4"},{value:"webm",label:"WebM"},{value:"mov",label:"MOV"},{value:"avi",label:"AVI"}],v=()=>({startTime:0,endTime:0,i18nKey:""}),g=()=>({time:0,label:""});function T({meta:l,onChange:p}){const t=c(),n=m.useCallback(e=>p({...l,...e}),[l,p]);return a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx(o,{label:t("asset.meta.section.references")}),a.jsx(s,{type:"text",label:t("asset.meta.relatedScene"),value:l.relatedScene,onChange:e=>n({relatedScene:e})}),a.jsx(s,{type:"text",label:t("asset.meta.relatedFlow"),value:l.relatedFlow,onChange:e=>n({relatedFlow:e})}),a.jsx(s,{type:"text",label:t("asset.meta.nextScene"),value:l.nextScene,onChange:e=>n({nextScene:e})}),a.jsx(s,{type:"text",label:t("asset.meta.relatedBgm"),value:l.relatedBgm,onChange:e=>n({relatedBgm:e})}),a.jsx(d,{label:t("asset.meta.relatedI18nSubtitle"),values:l.relatedI18nSubtitle??[],onChange:e=>n({relatedI18nSubtitle:e.length?e:void 0})}),a.jsx(o,{label:t("asset.meta.section.spec")}),a.jsx(s,{type:"select",label:t("asset.meta.format"),value:l.format,onChange:e=>n({format:e}),options:h}),a.jsx(s,{type:"text",label:t("asset.meta.codec"),value:l.codec,onChange:e=>n({codec:e}),placeholder:"H.264"}),a.jsx(s,{type:"text",label:t("asset.meta.resolution"),value:l.resolution,onChange:e=>n({resolution:e}),placeholder:"1920x1080"}),a.jsx(s,{type:"number",label:t("asset.meta.fps"),value:l.fps,onChange:e=>n({fps:e}),min:1}),a.jsx(s,{type:"number",label:t("asset.meta.duration"),value:l.duration,onChange:e=>n({duration:e}),min:0,step:.1,placeholder:"sec"}),a.jsx(s,{type:"number",label:t("asset.meta.fileSize"),value:l.fileSize,onChange:e=>n({fileSize:e}),min:0,placeholder:"KB"}),a.jsx(s,{type:"number",label:t("asset.meta.bitrate"),value:l.bitrate,onChange:e=>n({bitrate:e}),min:0,placeholder:"kbps"}),a.jsx(o,{label:t("asset.meta.section.properties")}),a.jsx(s,{type:"boolean",label:t("asset.meta.hasAudio"),value:l.hasAudio,onChange:e=>n({hasAudio:e})}),a.jsx(s,{type:"select",label:t("asset.meta.videoType"),value:l.videoType,onChange:e=>n({videoType:e}),options:x}),a.jsx(s,{type:"boolean",label:t("asset.meta.isSkippable"),value:l.isSkippable,onChange:e=>n({isSkippable:e})}),l.isSkippable&&a.jsx(s,{type:"number",label:t("asset.meta.skipAfter"),value:l.skipAfter,onChange:e=>n({skipAfter:e}),min:0,step:.1,placeholder:"sec"}),a.jsx(b,{label:t("asset.meta.subtitleKeys"),items:l.subtitleKeys??[],onChange:e=>n({subtitleKeys:e.length?e:void 0}),createDefault:v,renderItem:(e,u,i)=>a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[a.jsx(s,{type:"number",label:t("asset.meta.startTime"),value:e.startTime,onChange:r=>i({startTime:r??0}),min:0,step:.1}),a.jsx(s,{type:"number",label:t("asset.meta.endTime"),value:e.endTime,onChange:r=>i({endTime:r??0}),min:0,step:.1})]}),a.jsx(s,{type:"text",label:t("asset.meta.subtitleI18nKey"),value:e.i18nKey,onChange:r=>i({i18nKey:r??""})})]})}),a.jsx(b,{label:t("asset.meta.chapterMarks"),items:l.chapterMarks??[],onChange:e=>n({chapterMarks:e.length?e:void 0}),createDefault:g,renderItem:(e,u,i)=>a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx(s,{type:"number",label:t("asset.meta.chapterTime"),value:e.time,onChange:r=>i({time:r??0}),min:0,step:.1}),a.jsx(s,{type:"text",label:t("asset.meta.chapterLabel"),value:e.label,onChange:r=>i({label:r??""})})]})})]})}export{T as default};
