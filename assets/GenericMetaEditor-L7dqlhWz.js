import{aB as h,r as n,j as s,I as x,X as j,B as p,ar as N}from"./index-BO31ZqPg.js";import{S as v}from"./SectionHeader-CACnNDne.js";function y({meta:t,onChange:a}){const c=h(),[r,i]=n.useState(""),d=Object.entries(t).filter(([e])=>e!=="type"),u=n.useCallback((e,l)=>{a({...t,[e]:l})},[t,a]),m=n.useCallback(e=>{const l={...t};delete l[e],a(l)},[t,a]),o=n.useCallback(()=>{const e=r.trim();!e||e in t||(a({...t,[e]:""}),i(""))},[t,a,r]);return s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(v,{label:c("asset.meta.section.custom")}),d.map(([e,l])=>s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-24 shrink-0 truncate text-xs font-medium text-muted-foreground",children:e}),s.jsx(x,{className:"h-7 flex-1 text-xs",value:String(l??""),onChange:f=>u(e,f.target.value)}),s.jsx("button",{className:"shrink-0 rounded p-0.5 hover:bg-muted",onClick:()=>m(e),children:s.jsx(j,{className:"size-3"})})]},e)),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(x,{className:"h-7 flex-1 text-xs",value:r,onChange:e=>i(e.target.value),placeholder:c("asset.meta.newFieldKey"),onKeyDown:e=>e.key==="Enter"&&o()}),s.jsx(p,{variant:"outline",size:"sm",className:"h-7 text-xs shrink-0",onClick:o,children:s.jsx(N,{className:"mr-1 size-3"})})]})]})}export{y as default};
