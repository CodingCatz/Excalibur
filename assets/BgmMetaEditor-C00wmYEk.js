import{aB as p,r as m,j as a}from"./index-BO31ZqPg.js";import{M as s}from"./MetaField-Bml9FA2m.js";import{S as i}from"./SectionHeader-CACnNDne.js";import{S as d}from"./StringArrayEditor-BCoMBoiZ.js";import{O as c}from"./ObjectArrayEditor-3lw9ARiJ.js";import{A as b}from"./AudioSpecSection-BdWILS6Z.js";const h=[{value:"peaceful",label:"Peaceful"},{value:"tense",label:"Tense"},{value:"epic",label:"Epic"},{value:"mysterious",label:"Mysterious"},{value:"cheerful",label:"Cheerful"},{value:"melancholic",label:"Melancholic"},{value:"horror",label:"Horror"}],x=()=>({name:"",audioAssetId:""});function I({meta:l,onChange:u}){const t=p(),o=m.useCallback(e=>u({...l,...e}),[l,u]);return a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx(i,{label:t("asset.meta.section.references")}),a.jsx(d,{label:t("asset.meta.relatedScene"),values:l.relatedScene??[],onChange:e=>o({relatedScene:e.length?e:void 0})}),a.jsx(s,{type:"text",label:t("asset.meta.relatedFlow"),value:l.relatedFlow,onChange:e=>o({relatedFlow:e})}),a.jsx(b,{format:l.format,duration:l.duration,sampleRate:l.sampleRate,channels:l.channels,fileSize:l.fileSize,volume:l.volume,bitrate:l.bitrate,onChange:e=>o(e),showBitrate:!0}),a.jsx(i,{label:t("asset.meta.section.properties")}),a.jsx(s,{type:"number",label:t("asset.meta.bpm"),value:l.bpm,onChange:e=>o({bpm:e}),min:0}),a.jsx(s,{type:"text",label:t("asset.meta.musicalKey"),value:l.key,onChange:e=>o({key:e}),placeholder:"C major"}),a.jsx(s,{type:"select",label:t("asset.meta.mood"),value:l.mood,onChange:e=>o({mood:e}),options:h}),a.jsx(s,{type:"number",label:t("asset.meta.intensity"),value:l.intensity,onChange:e=>o({intensity:e}),min:1,max:10}),a.jsx(s,{type:"number",label:t("asset.meta.fadeInDuration"),value:l.fadeInDuration,onChange:e=>o({fadeInDuration:e}),min:0,step:.1,placeholder:"sec"}),a.jsx(s,{type:"number",label:t("asset.meta.fadeOutDuration"),value:l.fadeOutDuration,onChange:e=>o({fadeOutDuration:e}),min:0,step:.1,placeholder:"sec"}),a.jsx(i,{label:"Loop"}),a.jsx(s,{type:"boolean",label:t("asset.meta.loopable"),value:l.loopable,onChange:e=>o({loopable:e})}),l.loopable&&a.jsxs(a.Fragment,{children:[a.jsx(s,{type:"number",label:t("asset.meta.loopStart"),value:l.loopStart,onChange:e=>o({loopStart:e}),min:0,step:.01,placeholder:"sec"}),a.jsx(s,{type:"number",label:t("asset.meta.loopEnd"),value:l.loopEnd,onChange:e=>o({loopEnd:e}),min:0,step:.01,placeholder:"sec"}),a.jsx(s,{type:"number",label:t("asset.meta.introLength"),value:l.introLength,onChange:e=>o({introLength:e}),min:0,step:.01,placeholder:"sec"})]}),a.jsx(c,{label:t("asset.meta.dynamicLayers"),items:l.dynamicLayers??[],onChange:e=>o({dynamicLayers:e.length?e:void 0}),createDefault:x,renderItem:(e,g,r)=>a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx(s,{type:"text",label:t("asset.meta.layerName"),value:e.name,onChange:n=>r({name:n??""})}),a.jsx(s,{type:"text",label:t("asset.meta.audioAssetId"),value:e.audioAssetId,onChange:n=>r({audioAssetId:n??""})}),a.jsx(s,{type:"text",label:t("asset.meta.triggerCondition"),value:e.triggerCondition,onChange:n=>r({triggerCondition:n})}),a.jsx(s,{type:"number",label:t("asset.meta.volume"),value:e.volume,onChange:n=>r({volume:n}),min:0,max:1,step:.05}),a.jsx(s,{type:"number",label:t("asset.meta.fadeInDuration"),value:e.fadeInDuration,onChange:n=>r({fadeInDuration:n}),min:0,step:.1})]})})]})}export{I as default};
